1) Połączenie ssh do maszyny przez gcloud
gcloud compute --project "id_projektu" ssh --zone [zone] [nazwa maszyny]
gcloud compute --project "wzas-273311" ssh --zone europe-west1-b shard1server1




2) instalacja
sudo apt-get update
//dockera
sudo apt install docker.io
sudo systemctl start docker
sudo systemctl enable docker
docker --version
// docker-compose
sudo curl -L "https://github.com/docker/compose/releases/download/1.25.0/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
sudo chmod +x /usr/local/bin/docker-compose
docker-compose --version

3) pobranie konfiguracji z gita
sudo git clone https://github.com/PrzemyslawLapinski/nierelacyjneOstatniEtep.git
git status

4) odpalenie sharda
/wzas202004/bazaMongoDB/shard/shard1$ sudo docker-compose up -d
docker ps

5) wejscie do kontenera
docker exec -it shard1svr1 bash
mongo


6) pobanie ip kontenera
docker inspect -f '{{range .NetworkSettings.Networks}}{{.IPAddress}}{{end}}' nazaKontenera
7) wyłącznie kontenera i usuniecie volumenu
docker-compose down -v


8) import danych
mongoimport -d superstore -c songs --type csv --file songdata.csv --headerline

9) wyswietlenie piosenek
use superstore
db.songs.find();

10) odpalenie backendu na dockerze
docker build --no-cache -t rest-api-build .
docker run -p 8000:8080 rest-api-build
